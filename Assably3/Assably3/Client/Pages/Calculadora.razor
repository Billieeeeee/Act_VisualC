@page "/Calculadora"
@using Assably3.Shared
@using System.Text.Json
@inject HttpClient Http
<h3>Calculator</h3>

<EditForm @onsubmit="Enviar" Model="@operacion">

    <InputNumber @bind-Value="operacion.NumeroA"></InputNumber><!--Union = binding-->
    <InputNumber @bind-Value="operacion.NumeroB"></InputNumber>
    <!--Combobox-->
    <InputSelect @bind-Value="operacion.OperacionAritmetica">
        <option value="">Selecciona la operación deseada</option>
        <option value="+">Suma</option>
        <option value="-">Resta</option>
        <option value="/">Divisón</option>
        <option value="*">Multiplicación</option>
    </InputSelect>
    <button type="submit">Enviar datos</button>

</EditForm>

@code {

    Operacion operacion = new Operacion();


    public async void handValidSubmit(){


        String json = JsonSerializer.Serialize(operacion);

        HttpResponseMessage response = await Http.PostAsJsonAsync("op", operacion);
        /*El objeto operacion crea una respuesta o tarea*/

        Task tarea = response.Content.ReadFromJsonAsync<Operacion>();

        if (response.IsSuccessStatusCode)
        {

            await response.Content.ReadFromJsonAsync<Operacion>();

        }

            else
            {

                //Todo manejar el error

            }

        

    }
}
